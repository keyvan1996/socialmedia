[{"/Users/keyvanshabani/My-Files/codes/social-website/client/src/index.js":"1","/Users/keyvanshabani/My-Files/codes/social-website/client/src/App.js":"2","/Users/keyvanshabani/My-Files/codes/social-website/client/src/pages/login/Login.jsx":"3","/Users/keyvanshabani/My-Files/codes/social-website/client/src/pages/register/Register.jsx":"4","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/navbar/Navbar.jsx":"5","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/rightBar/RightBar.jsx":"6","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/leftBar/LeftBar.jsx":"7","/Users/keyvanshabani/My-Files/codes/social-website/client/src/pages/home/Home.jsx":"8","/Users/keyvanshabani/My-Files/codes/social-website/client/src/pages/profile/Profile.jsx":"9","/Users/keyvanshabani/My-Files/codes/social-website/client/src/context/darkModeContext.js":"10","/Users/keyvanshabani/My-Files/codes/social-website/client/src/context/authContext.js":"11","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/stories/Stories.jsx":"12","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/posts/Posts.jsx":"13","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/post/Post.jsx":"14","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/comments/Comments.jsx":"15","/Users/keyvanshabani/My-Files/codes/social-website/client/src/axios.js":"16","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/share/Share.jsx":"17","/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/update/Update.jsx":"18"},{"size":484,"mtime":1673901673052,"results":"19","hashOfConfig":"20"},{"size":1979,"mtime":1677024841157,"results":"21","hashOfConfig":"20"},{"size":1775,"mtime":1677023255216,"results":"22","hashOfConfig":"20"},{"size":2046,"mtime":1677023182904,"results":"23","hashOfConfig":"20"},{"size":1790,"mtime":1673901987311,"results":"24","hashOfConfig":"20"},{"size":10131,"mtime":1673835273046,"results":"25","hashOfConfig":"20"},{"size":2868,"mtime":1673902117903,"results":"26","hashOfConfig":"20"},{"size":329,"mtime":1677029052363,"results":"27","hashOfConfig":"20"},{"size":4384,"mtime":1678674943998,"results":"28","hashOfConfig":"20"},{"size":598,"mtime":1673899331822,"results":"29","hashOfConfig":"20"},{"size":745,"mtime":1677025758486,"results":"30","hashOfConfig":"20"},{"size":1969,"mtime":1673920927717,"results":"31","hashOfConfig":"20"},{"size":589,"mtime":1678670215896,"results":"32","hashOfConfig":"20"},{"size":3630,"mtime":1678671286838,"results":"33","hashOfConfig":"20"},{"size":1908,"mtime":1678155233154,"results":"34","hashOfConfig":"20"},{"size":140,"mtime":1677025114657,"results":"35","hashOfConfig":"20"},{"size":2802,"mtime":1677905466858,"results":"36","hashOfConfig":"20"},{"size":3722,"mtime":1678677453862,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"t3jave",{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/keyvanshabani/My-Files/codes/social-website/client/src/index.js",[],[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/App.js",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/pages/login/Login.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/pages/register/Register.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/navbar/Navbar.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/rightBar/RightBar.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/leftBar/LeftBar.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/pages/home/Home.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/pages/profile/Profile.jsx",["95"],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/context/darkModeContext.js",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/context/authContext.js",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/stories/Stories.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/posts/Posts.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/post/Post.jsx",["96"],[],"import \"./post.scss\";\nimport FavoriteBorderOutlinedIcon from \"@mui/icons-material/FavoriteBorderOutlined\";\nimport FavoriteOutlinedIcon from \"@mui/icons-material/FavoriteOutlined\";\nimport TextsmsOutlinedIcon from \"@mui/icons-material/TextsmsOutlined\";\nimport ShareOutlinedIcon from \"@mui/icons-material/ShareOutlined\";\nimport MoreHorizIcon from \"@mui/icons-material/MoreHoriz\";\nimport { Link } from \"react-router-dom\";\nimport Comments from \"../comments/Comments\";\nimport { useState } from \"react\";\nimport moment from \"moment\";\nimport { useQuery, useQueryClient, useMutation } from \"react-query\";\nimport { makeRequest } from \"../../axios\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../context/authContext\";\n\nconst Post = ({ post }) => {\n  const [commentOpen, setCommentOpen] = useState(false);\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  const { currentUser } = useContext(AuthContext);\n\n  const { isLoading, error, data } = useQuery([\"likes\", post.id], () =>\n    makeRequest.get(\"/likes?postId=\" + post.id).then((res) => {\n      return res.data;\n    })\n  );\n\n  const queryClient = useQueryClient();\n\n  const mutation = useMutation(\n    (liked) => {\n      if (liked) return makeRequest.delete(\"/likes?postId=\" + post.id);\n      return makeRequest.post(\"/likes\", { postId: post.id });\n    },\n    {\n      onSuccess: () => {\n        // Invalidate and refetch\n        queryClient.invalidateQueries([\"likes\"]);\n      },\n    }\n  );\n  const deleteMutation = useMutation(\n    (postId) => {\n      return makeRequest.delete(\"/posts/\" + postId);\n    },\n    {\n      onSuccess: () => {\n        // Invalidate and refetch\n        queryClient.invalidateQueries([\"posts\"]);\n      },\n    }\n  );\n\n  const handleLike = () => {\n    mutation.mutate(data.includes(currentUser.id));\n  };\n\n  const handleDelete = () => {\n    deleteMutation.mutate(post.id);\n  };\n\n  return (\n    <div className=\"post\">\n      <div className=\"container\">\n        <div className=\"user\">\n          <div className=\"userInfo\">\n            <img src={\"/upload/\" + post.profilePic} alt=\"\" />\n            <div className=\"details\">\n              <Link\n                to={`/profile/${post.userId}`}\n                style={{ textDecoration: \"none\", color: \"inherit\" }}\n              >\n                <span className=\"name\">{post.name}</span>\n              </Link>\n              <span className=\"date\">{moment(post.createdAt).fromNow()}</span>\n            </div>\n          </div>\n          <MoreHorizIcon onClick={() => setMenuOpen(!menuOpen)} />\n          {menuOpen && post.userId === currentUser.id && (\n            <button onClick={handleDelete}>delete</button>\n          )}\n        </div>\n        <div className=\"content\">\n          <p>{post.desc}</p>\n          <img src={\"/upload/\" + post.img} alt=\"\" />\n        </div>\n        <div className=\"info\">\n          <div className=\"item\">\n            {isLoading ? (\n              \"loading\"\n            ) : data.includes(currentUser.id) ? (\n              <FavoriteOutlinedIcon\n                style={{ color: \"red\" }}\n                onClick={handleLike}\n              />\n            ) : (\n              <FavoriteBorderOutlinedIcon onClick={handleLike} />\n            )}\n            {data?.length} Likes\n          </div>\n          <div className=\"item\" onClick={() => setCommentOpen(!commentOpen)}>\n            <TextsmsOutlinedIcon />\n            See Comments\n          </div>\n          <div className=\"item\">\n            <ShareOutlinedIcon />\n            Share\n          </div>\n        </div>\n        {commentOpen && <Comments postId={post.id} />}\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n",[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/comments/Comments.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/axios.js",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/share/Share.jsx",[],[],"/Users/keyvanshabani/My-Files/codes/social-website/client/src/components/update/Update.jsx",[],[],{"ruleId":"97","severity":1,"message":"98","line":24,"column":22,"nodeType":"99","messageId":"100","endLine":24,"endColumn":27},{"ruleId":"97","severity":1,"message":"98","line":22,"column":22,"nodeType":"99","messageId":"100","endLine":22,"endColumn":27},"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar"]